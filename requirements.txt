# Python Dependencies für Mail Helper

# Web Framework
Flask==3.0.0
Flask-Login==0.6.3         # User authentication
Flask-Session==0.8.0       # Server-side session storage (>= 0.7.0 required for Werkzeug 3.x compatibility)
Flask-WTF==1.2.1           # CSRF protection (Phase 8d)
flask-talisman==1.1.0      # HTTPS enforcement + security headers
# Alternative: fastapi==0.104.1
# Alternative: uvicorn==0.24.0

# Datenbank
SQLAlchemy==2.0.45

# KI & LLM
ollama==0.6.1              # Ollama Python client (latest)
openai==1.3.7              # Optional: OpenAI API
anthropic==0.7.7           # Optional: Claude API
mistralai==0.0.8           # Optional: Mistral API

# Security & Authentication
cryptography==44.0.3       # AES-256 encryption (Phase 3) - Security update
bcrypt==4.1.1              # Password hashing
pyotp==2.9.0               # TOTP 2FA (Google Authenticator)
qrcode==7.4.2              # QR-Code generation for 2FA
zxcvbn==4.4.28             # Password strength estimation (Phase 8c)
pyOpenSSL==25.0.0          # HTTPS support - Updated for cryptography 44.x compatibility

# NLP & Text Processing (optional für bessere Pseudonymisierung)
# spacy==3.7.2
# de-core-news-sm @ https://github.com/explosion/spacy-models/releases/download/de_core_news_sm-3.7.0/de_core_news_sm-3.7.0-py3-none-any.whl

# Phase 22: Email Anonymization (Pseudonymisierung)
spacy>=3.7.0,<4.0.0
# SpaCy-Modell muss separat installiert werden:
#   python -m spacy download de_core_news_md
# Oder direkt via pip:
de-core-news-md @ https://github.com/explosion/spacy-models/releases/download/de_core_news_md-3.8.0/de_core_news_md-3.8.0-py3-none-any.whl

# Utils
python-dotenv==1.0.0       # .env-Datei Support
requests==2.32.5           # HTTP-Requests - Security update
imapclient==3.0.1          # IMAP email fetching (Phase 11.5)

# HTML to Text Conversion (für Email-Body Verarbeitung)
beautifulsoup4==4.12.3     # HTML parsing
html2text==2024.2.26       # HTML to Markdown/Text
inscriptis==2.5.0          # High-quality HTML to Text

# Testing
pytest==7.4.3
pytest-cov==4.1.0

# Dev Tools (optional)
black==24.10.0             # Code Formatter - Security update
flake8==6.1.0              # Linter
Flask-Limiter==3.5.0
gunicorn==23.0.0           # Production WSGI server - Security update
